<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>she.store_dz - admin</title>
  <style>
    body{font-family:Arial,sans-serif;background:#fde6ef;margin:0;padding:20px;}
    .card{background:#fff;border-radius:16px;padding:20px;max-width:720px;margin:auto;box-shadow:0 10px 25px rgba(0,0,0,.1);}
    h2{text-align:center;color:#e91e63;margin:8px 0 10px;}
    p{line-height:1.7;}
    input,button{width:100%;padding:12px;margin-top:10px;border-radius:10px;border:1px solid #ddd;font-size:16px;outline:none;text-align:right;}
    button{background:#e91e63;color:#fff;border:none;cursor:pointer;}
    button.gray{background:#ccc;color:#333;}
    table{width:100%;margin-top:18px;border-collapse:collapse;}
    th,td{border-bottom:1px solid #eee;padding:10px;text-align:center;}
    .box{background:#f8c1d9;padding:15px;border-radius:14px;margin-top:18px;}
    .small{opacity:.85;font-size:14px;margin-top:6px;}
  </style>
</head>

<body>
<div class="card">
  <h2>she.store_dz - Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</h2>

  <p>
    âœ¨ Ø§ÙƒØªØ¨ÙŠ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø«Ù… Ø§Ø¶ØºØ·ÙŠ "Ø£Ø¶Ù"<br>
    ğŸ’± Ø§Ù„ØªØ­ÙˆÙŠÙ„: 1$ = 270 Ø¯Ø¬ â€” ğŸ’° Ø±Ø¨Ø­Ùƒ: 100 Ø¯Ø¬ Ù„ÙƒÙ„ Ù…Ù†ØªØ¬ â€” ğŸ Ø§Ù„ØªØºÙ„ÙŠÙ: 50 Ø¯Ø¬ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
  </p>

  <input type="number" step="0.01" id="usdInput" placeholder="Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± (Ù…Ø«Ø§Ù„ 2.35)">
  <button onclick="addProduct()">â• Ø£Ø¶Ù Ø§Ù„Ù…Ù†ØªØ¬</button>
  <button class="gray" onclick="resetAll()">ğŸ§¹ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>

  <table>
    <thead>
      <tr>
        <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
        <th>$</th>
        <th>Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ (Ø¯Ø¬)</th>
        <th>Ø±Ø¨Ø­Ùƒ</th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>

  <div class="box">
    <h3>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ù„Ù„Ø²Ø¨ÙˆÙ†Ø©)</h3>
    <p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¨Ø¯ÙˆÙ† ØªØºÙ„ÙŠÙ: <b><span id="totalDz">0</span> Ø¯Ø¬</b></p>
    <div class="small">ÙŠØ¹Ù†ÙŠ: <span id="totalMeaning">0</span></div>

    <p>Ø§Ù„ØªØºÙ„ÙŠÙ: <b><span id="packaging">0</span> Ø¯Ø¬</b></p>
    <div class="small">ÙŠØ¹Ù†ÙŠ: <span id="packMeaning">0</span></div>

    <p><b>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: <span id="finalDz">0</span> Ø¯Ø¬</b></p>
    <div class="small">ÙŠØ¹Ù†ÙŠ: <span id="finalMeaning">0</span></div>
  </div>

  <div class="box">
    <h3>Ø±Ø¨Ø­Ùƒ (Ù…Ø¹ Ø§Ù„ØªØºÙ„ÙŠÙ)</h3>
    <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: <b><span id="count">0</span></b></p>
    <p><b>Ø±Ø¨Ø­Ùƒ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="profit">0</span> Ø¯Ø¬</b></p>
    <div class="small">ÙŠØ¹Ù†ÙŠ: <span id="profitMeaning">0</span></div>

    <div class="small">ğŸ’¡ Ø±Ø¨Ø­Ùƒ = (Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ã— 100 Ø¯Ø¬) + 50 Ø¯Ø¬ ØªØºÙ„ÙŠÙ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¥Ø°Ø§ ÙƒØ§ÙŠÙ† Ù…Ù†ØªØ¬)</div>
  </div>

</div>

<script>
  const rate = 270;
  const profitPerProduct = 100;
  const packagingFee = 50;

  let products = [];

  // âœ… Ù†ÙØ³ Ø§Ù„ÙÙƒØ±Ø©: 10000 Ø¯Ø¬ = Ù…Ù„ÙŠÙˆÙ† / 10 Ø¯Ø¬ = Ø£Ù„Ù
  function formatMeaning(dz){
    dz = Math.floor(dz);
    if (dz <= 0) return "0";

    const millions = Math.floor(dz / 10000);
    const remainder = dz % 10000;
    const thousands = Math.floor(remainder / 10);

    let millionWord = "";
    if (millions === 1) millionWord = "Ù…Ù„ÙŠÙˆÙ†";
    else if (millions === 2) millionWord = "Ù…Ù„ÙŠÙˆÙ†ÙŠÙ†";
    else millionWord = millions + " Ù…Ù„Ø§ÙŠÙŠÙ†";

    if (millions === 0){
      return thousands + " Ø£Ù„Ù Ø¯Ø¬";
    }
    if (thousands > 0){
      return millionWord + " Ùˆ " + thousands + " Ø£Ù„Ù";
    }
    return millionWord;
  }

  function addProduct(){
    const usd = parseFloat(document.getElementById('usdInput').value);
    if (isNaN(usd) || usd <= 0) return;

    const dz = usd * rate;
    products.push({usd, dz});

    document.getElementById('usdInput').value = '';
    render();
  }

  function resetAll(){
    products = [];
    render();
  }

  function render(){
    const tbody = document.getElementById('tbody');
    tbody.innerHTML = '';

    let totalDz = 0;
    products.forEach((p, i) => {
      totalDz += p.dz;

      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>Ù…Ù†ØªØ¬ ${i+1}</td>
        <td>$${p.usd}</td>
        <td>${Math.floor(p.dz)} Ø¯Ø¬</td>
        <td>${profitPerProduct} Ø¯Ø¬</td>
      `;
      tbody.appendChild(tr);
    });

    const count = products.length;
    const packaging = count > 0 ? packagingFee : 0;

    // Ù„Ù„Ø²Ø¨ÙˆÙ†Ø© (Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ + Ø±Ø¨Ø­Ùƒ + ØªØºÙ„ÙŠÙ)
    const profitTotal = (count * profitPerProduct) + packaging;
    const finalDz = Math.floor(totalDz + profitTotal);

    // Ø¹Ø±Ø¶ Ø£Ø±Ù‚Ø§Ù… (Ø¨Ù„Ø§ ÙÙˆØ§ØµÙ„) + "ÙŠØ¹Ù†ÙŠ"
    document.getElementById('totalDz').textContent = Math.floor(totalDz);
    document.getElementById('totalMeaning').textContent = formatMeaning(totalDz);

    document.getElementById('packaging').textContent = packaging;
    document.getElementById('packMeaning').textContent = formatMeaning(packaging);

    document.getElementById('finalDz').textContent = finalDz;
    document.getElementById('finalMeaning').textContent = formatMeaning(finalDz);

    document.getElementById('count').textContent = count;
    document.getElementById('profit').textContent = profitTotal;
    document.getElementById('profitMeaning').textContent = formatMeaning(profitTotal);
  }

  render();
</script>

</body>
</html>
